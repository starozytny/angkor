{% extends 'themes/default/base.html.twig' %}

{% block title %}| Admin{% endblock %}

{% block stylesheets %}
    {{ encore_entry_link_tags('default_super') }}
    {{ encore_entry_link_tags('default_admin') }}
{% endblock %}


{% block body %}
    {% set menu = [
        {
            'path': path('admin_dashboard'),
            'icon': 'home',
            'label': 'Dashboard',
            'name': 'admin'
        },
        {
            'path': path('admin_contact_index'),
            'icon': 'email',
            'label': 'Contact',
            'name': 'contact'
        },
        {
            'path': path('app_homepage'),
            'icon': 'earth',
            'label': 'Retour au site',
            'name': 'site'
        }
    ] %}

    {% if is_granted('ROLE_SUPER_ADMIN') %}
        {% set menuSuper = [
            {
                'path': path('super_dashboard'),
                'icon': 'earth',
                'label': 'Dashboard super',
                'name': 'dashboard'
            }
        ] %}
        {% set menu = menu | merge(menuSuper) %}
    {% endif %}

    <div id="default" 
        data-title="Admin"
        data-menu="{{ menu | json_encode() }}" 
        data-username="{{ app.user.username | capitalize }}" 
        data-avatar="{{ app.user.avatar }}"
    ></div>

    <main>        
        {% block main_content %}{% endblock %}
    </main>

    <footer>
        <div class="copyright">Copyright 2020 - Logilink</div>
    </footer>
{% endblock %}


{% block javascripts %}
    {{ encore_entry_script_tags('default_super') }}
    {{ encore_entry_script_tags('default_admin') }}
{% endblock %}